package view;

import javax.imageio.ImageIO;
import javax.swing.*;
import javax.swing.border.TitledBorder;

import java.awt.*;
import java.awt.event.*;

public class PanelOpciones extends JPanel implements ActionListener{

	//------------------------------------------------
	//Constantes
	//------------------------------------------------

	private static final long serialVersionUID = 1408453319188800339L;

	public static final String AGREGAR = "AGREGAR";

	public static final String ELIMINAR = "ELIMINAR";

	public static final String SAVE = "GUARDAR";

	public static final String SORT = "SORT";

	public static final String SEND = "SEND";

	//------------------------------------------------
	//Atributos
	//------------------------------------------------

	private SecretSantaUI main;

	private JButton btnAgregar;

	private JButton btnEliminar;

	private JButton btnGuardar;

	private JButton btnValidar;

	private JButton btnEnviar;

	//------------------------------------------------
	//Constructor
	//------------------------------------------------

	public PanelOpciones(SecretSantaUI inter){
		main = inter;

		TitledBorder border = BorderFactory.createTitledBorder("Opciones");
		border.setTitleColor(Color.BLUE);
		setBorder(border);

		setLayout(new GridLayout(1,8));

		btnAgregar = new JButton("Agregar");
		btnAgregar.addActionListener(this);
		btnAgregar.setActionCommand(AGREGAR);
		try {
			Image img = ImageIO.read(getClass().getResource("resources/water.bmp"));
			btnAgregar.setIcon(new ImageIcon(img));
		} catch (Exception ex) {
			JOptionPane.showMessageDialog(main, "Error cargando la imagen para agregar", ex.getClass().getName(),
					JOptionPane.ERROR_MESSAGE);
		}

		add(btnAgregar);

		btnEliminar = new JButton("Eliminar");
		btnEliminar.addActionListener(this);
		btnEliminar.setActionCommand(ELIMINAR);
		add(btnEliminar);

		btnGuardar = new JButton("Guardar");
		btnGuardar.addActionListener(this);
		btnGuardar.setActionCommand(SAVE);
		add(btnGuardar);

		btnValidar = new JButton("Validar");
		btnValidar.addActionListener(this);
		btnValidar.setActionCommand(SORT);
		add(btnValidar);

		btnEnviar = new JButton("Enviar Correos");
		btnEnviar.addActionListener(this);
		btnEnviar.setActionCommand(SEND);
		add(btnEnviar);		
	}

	//------------------------------------------------
	//Metodos
	//------------------------------------------------

	@Override
	public void actionPerformed(ActionEvent e){
		String cmd = e.getActionCommand();
		if(cmd.equals(AGREGAR)){
			//TODO
		}
		else if(cmd.equals(ELIMINAR)){
			//TODO
		}
		else if(cmd.equals(SAVE)){
			main.save();
		}
		else if(cmd.equals(SEND)){
			main.send();
		}
		else if(cmd.equals(SORT)){
			main.validate();
		}
	}

}
